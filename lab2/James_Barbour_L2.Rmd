---
title: 'Lab 2: data.gov and reproducibility'
author: "James Barbour"
date: "January 18, 2017"
output:
  html_document: default
  pdf_document:
    latex_engine: xelatex
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

## Aviation Accidents and Fatalities, 1975-2014

This data set is provided by the NTSB, found [here](https://catalog.data.gov/dataset/accidents-fatalities-and-rates-1995-through-2014-u-s-general-aviation). Initially, it was poorly formatted and unusable, but since it is a small dataset, I was able to quickly manually clean up the data.

The data set contains the number of aviation accidents (All) from 1975 to 2014. For each year, the number of fatal accidents (Fatal), the total number of fatalities (Total), number of fatalaties aboard flights (Aboard), and flight hours logged that year (Flight.Hours).

```{r}
datagov <- read_csv("aviation_accidents-2014.csv")
summary(datagov)
head(datagov)
```

## Total accidents per year
Points sized by number of fatalities, alpha is flight hours per year. This plot tells us there is a correlation between both year and flight hours and total number of annual accidents.

```{r}
ggplot(data = datagov) + geom_point(mapping = aes(x = Year, y = All, size = Total, alpha = Flight.Hours))
```

## Percentage of fatal accidents per year
Points sized by total number of fatalities, alpha is flight hours per year. This plot tells us there may be a weak correlation between of percentage of fatal accidents and year.

```{r}
ggplot(data = datagov) + geom_point(mapping = aes(x = Year, y = Fatal/All, size = Total, alpha = Flight.Hours))
```

## Fatalities per year
Points sized by total accidents, alpha is flight hours per year. This plot tells us there is a correlation between both year and flight hours and total number of annual fatalities.

```{r}
ggplot(data = datagov) + geom_point(mapping = aes(x = Year, y = Total, size = All, alpha = Flight.Hours))
```